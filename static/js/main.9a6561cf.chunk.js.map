{"version":3,"sources":["Redux/users-reducer.js","component/Profile/SmallAvatar/SmallAvatar.module.css","assets/image/preloader.svg","api/api.js","serviceWorker.js","component/Aside/AsideLinks/AsideLinks.jsx","component/ListsFriend/ListsFriend.jsx","component/Aside/Aside.jsx","component/Feed/Feed.jsx","component/Friend/Friend.jsx","utils/validator/validator.js","component/LoginForm/LoginForm.js","Redux/auth-reducer.js","component/Login/Login.js","component/Header/Header.jsx","component/Header/HeaderContainer.js","component/Training/Forms.js","Redux/app-reducer.js","hoc/withSuspense.js","App.js","Redux/aside-reducer.js","Redux/redux-store.js","index.js","utils/selectors/selectors.js","common/FormsControls/FormsControls.js","component/LoginForm/LoginForm.module.css","common/FormsControls/FormsControls.module.css","hoc/withAuthRedirect.js","common/Preloader/Preloader.js","component/ListsFriend/ListsFriend.module.css","component/Aside/AsideLinks/AsideLinks.module.css","component/Aside/Aside.module.css","component/Header/Header.module.css","component/Profile/SmallAvatar/SmallAvatar.jsx","Redux/profile-reducer.js","Redux/messages-reducer.js"],"names":["SET_USERS","SET_PAGE","TOGGLE_PRELOADER","TOGGLE_FOLLOWED","ADD_USER_STACK","REMOVE_USER_STACK","initialState","pageSize","currentPage","totalCount","preloader","usersInSubscribeProcess","count","setUsers","dataFromApi","type","togglePreloader","bool","toggleFollowed","userId","addUserToSubscribeStack","removeUserToSubscribeStack","getUsers","countUsers","dispatch","a","usersApi","response","data","changeCurrentPage","newPageNumber","followOnUser","unFollowOnUser","usersReducer","state","action","items","map","u","id","followed","filter","e","module","exports","instance","axios","withCredentials","baseURL","headers","get","post","delete","authApi","getAuthState","loginTheSite","formData","email","password","rememberMe","logOutTheSite","profileApi","getProfilePeople","getUserStatus","updateUserStatus","status","put","Boolean","window","location","hostname","match","AsideLinks","props","url","iconClass","icon","linkText","text","className","style","item","to","itemLink","ListsFriend","result","show","forEach","elem","index","push","String","key","SmallAvatar","src","renderFriendsList","listWrap","listHead","listImageWrap","Aside","renderAsideLinks","this","links","asideSection","menu","friends","React","Component","compose","withAuthRedirect","connect","getFilterSidebarLinks","getSidebarFriends","Friend","min","required","value","undefined","test","requireField","minLength5","length","LoginForm","console","log","isAuth","handleSubmit","error","LoginFormComponent","s","loginForm","onSubmit","Field","name","placeholder","component","Input","validate","htmlFor","remember","commonError","authPage","reduxForm","form","TOGGLE_AUTH","SET_USER_DATA","SET_DEFAULT_STATE","toggleAuthState","getAuthStateUser","resultCode","stateFromApi","authReducer","Login","loginTheSiteThunkCallback","Preloader","message","messages","stopSubmit","_error","Header","headerSection","href","alt","login","onClick","logOut","HeaderContainer","logoutTheSiteCallback","ReduxForm","customInput","UsualFormContainer","initialize","appReducer","withSuspense","Suspense","fallback","ContainerUsers","lazy","ContainerProfile","ContainerDialogs","App","getInitializeStateThunkCallback","path","render","getInitializeSelector","getAuthPageSelector","initializePromise","Promise","all","then","asideReducer","reducers","combineReducers","dialogsPage","messageReducer","profilePage","profileReducer","sidebar","usersPage","app","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","getUsersPageSelector","createSelector","l","getDialogsPage","TagName","createElement","input","meta","hasError","touched","formControl","Textarea","hasErrorNow","RedirectComponent","defaultPreloader","user__avatar","ADD_USER_POST","SET_DISPLAYED_USER","IS_MY_PAGE","SET_USER_STATUS","DELETE_POST","posts","likeCount","currentUser","aboutMe","contacts","facebook","website","vk","twitter","instagram","lookingForAJob","lookingForAJobDescription","fullName","photos","small","large","myId","isMyPage","setDisplayedCurrentUser","userDataFromApi","isMyPageAC","setUserStatus","addNewPostThuhnkCallback","textNewPost","addNewPostCreateAction","getProfilePageThunkCallback","getUserStatusThunkCallback","updateUserStatusThunkCallback","statusText","postId","UPDATE_MESSAGE_TEXTAREA","ADD_NEW_MESSAGE","chatTextarea","failCount","updateMessageTextareaCreateAction","newValue","addNewMessageCreateAction"],"mappings":"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","file":"static/js/main.9a6561cf.chunk.js","sourcesContent":["import {usersApi} from '../api/api';\r\n\r\nconst SET_USERS = 'samurai-network/users-reducer/SET_USERS';\r\nconst SET_PAGE = 'samurai-network/users-reducer/SET_PAGE';\r\nconst TOGGLE_PRELOADER = 'samurai-network/users-reducer/TOGGLE_PRELOADER';\r\nconst TOGGLE_FOLLOWED = 'samurai-network/users-reducer/TOGGLE_FOLLOWED';\r\nconst ADD_USER_STACK = 'samurai-network/users-reducer/ADD_USER_STACK';\r\nconst REMOVE_USER_STACK = 'samurai-network/users-reducer/REMOVE_USER_STACK';\r\n\r\nlet initialState = {\r\n    pageSize: 10, //Пользователей на странице\r\n    currentPage: 1, //Текущая страница\r\n    totalCount: null, //Всего пользователей,\r\n    preloader: false, //Прелоадер при false не показывается\r\n    usersInSubscribeProcess: [],\r\n    count: 0,\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                items: action.dataFromApi.items,\r\n                totalCount: action.dataFromApi.totalCount\r\n            }\r\n        case SET_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case TOGGLE_PRELOADER:\r\n            return {\r\n                ...state,\r\n                preloader: action.bool\r\n            }\r\n        case TOGGLE_FOLLOWED:\r\n            return {\r\n                ...state,\r\n                items: state.items.map(u => {\r\n                    if(action.userId === u.id) {\r\n                        return {...u, followed: action.bool}\r\n                    }\r\n                    return u;\r\n                })\r\n            }\r\n        case ADD_USER_STACK:\r\n            return {\r\n                ...state,\r\n                usersInSubscribeProcess: [action.userId, ...state.usersInSubscribeProcess]\r\n            }\r\n        case REMOVE_USER_STACK:\r\n            return {\r\n                ...state,\r\n                usersInSubscribeProcess: state.usersInSubscribeProcess.filter(e => e !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ActionCreator\r\nconst setUsers = (dataFromApi) => ({type: SET_USERS, dataFromApi});\r\nconst setPage = (currentPage) => ({type: SET_PAGE, currentPage});\r\nconst togglePreloader = (bool) => ({type: TOGGLE_PRELOADER, bool});\r\nconst toggleFollowed = (userId, bool) => ({type: TOGGLE_FOLLOWED, userId, bool});\r\nexport const addUserToSubscribeStack = (userId) => ({type: ADD_USER_STACK, userId});\r\nconst removeUserToSubscribeStack = (userId) => ({type: REMOVE_USER_STACK, userId});\r\n//Thunks\r\nexport const getUsers = (currentPage, countUsers) => async (dispatch) => {\r\n    const response = await usersApi.getUsers(currentPage, countUsers);\r\n    dispatch(setUsers(response.data));\r\n    dispatch(togglePreloader(true));\r\n}\r\nexport const changeCurrentPage = (newPageNumber) => async (dispatch) => {\r\n    dispatch(setPage(newPageNumber));\r\n    dispatch(togglePreloader(false));\r\n\r\n    const response = await usersApi.getUsers(newPageNumber)\r\n    dispatch(setUsers(response.data));\r\n    dispatch(togglePreloader(true));\r\n}\r\nexport const followOnUser = (userId) => async (dispatch) => {\r\n    dispatch(addUserToSubscribeStack(userId));\r\n    const response = await usersApi.followOnUser(userId)\r\n\r\n    dispatch(toggleFollowed(userId,true));\r\n    dispatch(removeUserToSubscribeStack(userId));\r\n}\r\nexport const unFollowOnUser = (userId) => async (dispatch) => {\r\n    dispatch(addUserToSubscribeStack(userId));\r\n    const response = await usersApi.unFollowOnUser(userId)\r\n\r\n    dispatch(toggleFollowed(userId,false));\r\n    dispatch(removeUserToSubscribeStack(userId));\r\n}\r\n\r\nexport default usersReducer;\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user__avatar\":\"SmallAvatar_user__avatar__1-c7n\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.078ba709.svg\";","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': '2aa95529-03f3-4e18-bb22-995bc7fdf5db'\r\n    }\r\n});\r\n\r\nexport const usersApi = {\r\n    getUsers(currentPage = 1, countUsers = 7) {\r\n        return instance.get(`/users?count=${countUsers}&page=${currentPage}`)\r\n    },\r\n    followOnUser(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unFollowOnUser(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const authApi = {\r\n    getAuthState() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    loginTheSite(formData) {\r\n        let {email, password, rememberMe} = formData;\r\n        return instance.post(`auth/login`, {email, password, rememberMe})\r\n    },\r\n    logOutTheSite() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\n\r\nexport const profileApi = {\r\n    getProfilePeople(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getUserStatus(userId = 6722) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateUserStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n    }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './AsideLinks.module.css';\r\n\r\nconst AsideLinks = (props) => {\r\n    let url = props.url,\r\n        iconClass = `fa ${props.icon}`,\r\n        linkText = props.text;\r\n    return (\r\n        <li className={style.item}>\r\n            <NavLink to={url} className={style.itemLink}>\r\n                <i className={iconClass}></i>\r\n                {linkText}\r\n            </NavLink>\r\n        </li>\r\n    )\r\n};\r\n\r\n\r\nexport default AsideLinks;","import React from 'react';\r\nimport style from './ListsFriend.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\nimport SmallAvatar from \"../Profile/SmallAvatar/SmallAvatar\";\r\n\r\nconst ListsFriend = (props) => {\r\n\r\n    function renderFriendsList(state, show) {\r\n        let result = [];\r\n        state.forEach((elem, index) => {\r\n            if (index <= show - 1) result.push(<NavLink to={String(elem.userId)} key={index}><SmallAvatar src={elem.src}/></NavLink>);\r\n        });\r\n        return result;\r\n    }\r\n\r\n    let result = renderFriendsList(props.state, props.show);\r\n\r\n    return (\r\n        <div className={style.listWrap}>\r\n            <h4 className={style.listHead}>Friends</h4>\r\n            <div className={style.listImageWrap}>\r\n                {result}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default ListsFriend;","import React from 'react';\r\nimport AsideLinks from './AsideLinks/AsideLinks';\r\nimport style from './Aside.module.css';\r\nimport ListsFriend from \"../ListsFriend/ListsFriend\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {getFilterSidebarLinks, getSidebarFriends} from \"../../utils/selectors/selectors\";\r\n\r\nlet mapStateToProps = state => {\r\n    return {\r\n        links: getFilterSidebarLinks(state),\r\n        friends: getSidebarFriends(state),\r\n    }\r\n}\r\n\r\nclass Aside extends React.Component {\r\n    render() {\r\n        let renderAsideLinks = this.props.links.map((elem, index) => {\r\n            return <AsideLinks key={index} url={elem.url} icon={elem.icon} text={elem.text}/>;\r\n        });\r\n\r\n        return (\r\n            <aside className={style.asideSection}>\r\n                <nav>\r\n                    <ul className={style.menu}>\r\n                        {renderAsideLinks}\r\n                    </ul>\r\n                </nav>\r\n                <ListsFriend show='3' state={this.props.friends}/>\r\n            </aside>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {})\r\n)(Aside)","import React from 'react';\r\nimport style from './Feed.module.css';\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\nconst Feed = (props) => {\r\n    return(\r\n        <div className={`default-card`}>\r\n            Feed\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withAuthRedirect(Feed);","import React from 'react';\r\nimport style from './Friend.module.css';\r\n\r\nfunction Friend() {\r\n    return(\r\n        <div className={`default-card`}>\r\n            Friend\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friend;","//data checking && validatorFunctions\r\nexport const required               = value => (value || typeof value === 'number' ? undefined : 'Required');\r\nexport const email                  = value => {\r\n    if (value && !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) return 'Invalid email address';\r\n    else return undefined;\r\n};\r\nexport const maxLengthCreator       = max => value => {\r\n    if (value.length > max) return `Max length is ${max} symbols`;\r\n    return undefined;\r\n};\r\nexport const minLengthCreator       = min => value => {\r\n    if (value.length < min) return `Min length is ${min} symbols`;\r\n    return undefined;\r\n};\r\n\r\n\r\n\r\n\r\n//For Training\r\nexport const requireField = value => (value || typeof value === 'number' ? undefined : 'Required');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport s from './LoginForm.module.css'\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport {required, minLengthCreator, email} from \"../../utils/validator/validator\";\r\nimport {Input} from \"../../common/FormsControls/FormsControls\";\r\n\r\nlet minLength5 = minLengthCreator(5);\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.authPage.isAuth\r\n    }\r\n}\r\n\r\nclass LoginForm extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props);\r\n        if (this.props.isAuth) return <Redirect to='/profile' />\r\n        else return <LoginFormComponent handleSubmit={this.props.handleSubmit} error={this.props.error}/>\r\n    }\r\n\r\n};\r\n\r\nconst LoginFormComponent = props => {\r\n    return(\r\n        <div className={`default-card ${s.loginForm}`}>\r\n            <form className=\"form\" onSubmit={props.handleSubmit}>\r\n                <Field name=\"email\" type=\"text\" placeholder=\"E-mail\" component={Input} validate={[required, email]}/>\r\n                <Field name=\"password\" type=\"password\" placeholder=\"Password\" component={Input} validate={[required, minLength5]}/>\r\n                <div className={s.rememberMe}>\r\n                    <label htmlFor=\"rememberMe\">Remember me</label>\r\n                    <Field name=\"rememberMe\" type=\"checkbox\" component={\"input\"} className={s.remember}/>\r\n                </div>\r\n                <button className=\"main-btn\">Войти</button>\r\n                {props.error &&\r\n                    <div className={s.commonError}>\r\n                        {props.error}\r\n                    </div>\r\n                }\r\n            </form>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {}),\r\n    reduxForm({form: 'loginForm'})\r\n)(LoginForm)\r\n\r\n\r\n","import {authApi} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst TOGGLE_AUTH = 'samurai-network/auth-reducer/TOGGLE_AUTH';\r\nconst SET_USER_DATA = 'samurai-network/auth-reducer/SET_USER_DATA';\r\nconst TOGGLE_PRELOADER = 'samurai-network/auth-reducer/TOGGLE_PRELOADER';\r\nconst SET_DEFAULT_STATE = 'samurai-network/auth-reducer/SET_DEFAULT_STATE';\r\n\r\nlet initialState = {\r\n    isAuth: false,\r\n    preloader: false\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case TOGGLE_AUTH:\r\n            return {isAuth: action.bool}\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.stateFromApi\r\n            }\r\n        case TOGGLE_PRELOADER:\r\n            return {\r\n                ...state,\r\n                preloader: action.bool\r\n            }\r\n        case SET_DEFAULT_STATE:\r\n            return {\r\n                isAuth: false,\r\n                preloader: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//ActionCreator\r\nconst toggleAuthState = (bool) => ({type: TOGGLE_AUTH, bool});\r\nconst togglePreloader = (bool) => ({type: TOGGLE_PRELOADER, bool});\r\nconst setUserData = (stateFromApi) => ({type: SET_USER_DATA, stateFromApi});\r\nconst setDefaultState = () => ({type: SET_DEFAULT_STATE});\r\n//Thunk\r\nexport const getAuthStateUser = () => async (dispatch) => {\r\n    let response = await authApi.getAuthState();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(toggleAuthState(true));\r\n        dispatch(setUserData(response.data.data));\r\n    } else {\r\n        dispatch(toggleAuthState(false));\r\n    }\r\n};\r\n\r\nexport const loginTheSiteThunkCallback = (formData) => async (dispatch) => {\r\n    const response = await authApi.loginTheSite(formData);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(toggleAuthState(true));\r\n        dispatch(getAuthStateUser());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Unknown error';\r\n        dispatch(togglePreloader(false));\r\n        dispatch(stopSubmit('loginForm', {_error: message}))\r\n    }\r\n}\r\nexport const logoutTheSiteCallback = () => async (dispatch) => {\r\n    await authApi.logOutTheSite();\r\n    dispatch(setDefaultState())\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport style from './Login.module.css';\r\nimport LoginForm from \"../LoginForm/LoginForm\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {loginTheSiteThunkCallback} from \"../../Redux/auth-reducer\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        preloader: state.authPage.preloader\r\n    }\r\n};\r\n\r\nclass Login extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    onSubmit = (formData) => {\r\n        console.log(formData);\r\n        this.props.loginTheSiteThunkCallback(formData);\r\n    }\r\n\r\n    render() {\r\n        console.log(this.props);\r\n        return(\r\n            <div>\r\n                {this.props.preloader && <Preloader/>}\r\n                {!this.props.preloader && <LoginForm onSubmit={this.onSubmit} {...this.props}/>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {loginTheSiteThunkCallback})\r\n)(Login);","import React from 'react';\r\nimport style from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n    return(\r\n        <header className={style.headerSection}>\r\n            <div className=\"container\">\r\n                <div className={style.links}>\r\n                    <a href=\"#\"><img src=\"https://vk.com/images/svg_icons/ic_head_logo.svg\" alt=\"\"/></a>\r\n                    {props.authPage.isAuth\r\n                        ? <div><a href=\"#\">{props.authPage.login}</a> <button onClick={props.logOut}>Logout</button></div>\r\n                        : <a href=\"#\">Login</a>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logoutTheSiteCallback} from \"../../Redux/auth-reducer\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => ({});\r\n\r\nclass HeaderContainer extends React.Component{\r\n    logOut = () => {\r\n        this.props.logoutTheSiteCallback()\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <Header authPage={this.props.authPage} logOut={this.logOut}/>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {logoutTheSiteCallback})\r\n)(HeaderContainer)\r\n\r\n\r\n","\r\n\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {requireField} from \"../../utils/validator/validator\";\r\nimport {customInput} from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst UsualForm = props => {\r\n    return(\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field type=\"text\" placeholder={\"Name\"} component={customInput} name={\"name\"} validate={[requireField]}/>\r\n            </div>\r\n            <div>\r\n                <Field type=\"text\" placeholder={\"Age\"} component={\"input\"} name={\"age\"}/>\r\n            </div>\r\n            <button className=\"main-btn\">Send</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst UsualFormContainer = props => {\r\n    let handleSubmit = formData => {\r\n        console.log(formData);\r\n    };\r\n    return(\r\n        <div>\r\n            <ReduxForm onSubmit={handleSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ReduxForm = reduxForm({form: 'bank'})(UsualForm);\r\n\r\n\r\nexport default UsualFormContainer;","import {getAuthStateUser} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZE = 'SET_INITIALIZE';\r\n\r\nlet initialState = {\r\n    initialize: false,\r\n}\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZE:\r\n            return {\r\n                ...state,\r\n                initialize: action.bool\r\n            }\r\n        default:\r\n            return {...state}\r\n    }\r\n};\r\n\r\n\r\n//ActionCreator\r\nexport const setInitialize = bool => ({type: SET_INITIALIZE, bool});\r\n//Thunks\r\nexport const getInitializeStateThunkCallback = () => dispatch => {\r\n    let initializePromise = dispatch(getAuthStateUser());\r\n    Promise.all([initializePromise])\r\n        .then(() => {\r\n                dispatch(setInitialize(true))\r\n            }\r\n        )\r\n}\r\n\r\nexport default appReducer;\r\n","import React from \"react\";\r\n\r\nconst withSuspense = (Component) => {\r\n    return(\r\n        <React.Suspense fallback={<div>Идёт загрузка...</div>}>\r\n            <Component/>\r\n        </React.Suspense>\r\n    )\r\n}\r\n\r\nexport default withSuspense;","//Libraries\r\nimport React, {Suspense} from 'react';\r\nimport {Route} from \"react-router-dom\";\r\n\r\n//Styles\r\nimport './fonts/fontawesome/css/all.css';\r\nimport './App.css';\r\n\r\n//Components\r\nimport Aside from './component/Aside/Aside';\r\nimport Feed from \"./component/Feed/Feed\";\r\nimport Friend from \"./component/Friend/Friend\";\r\n\r\n\r\nimport Login from \"./component/Login/Login\";\r\nimport HeaderContainer from \"./component/Header/HeaderContainer\";\r\n\r\nimport TrainSection from \"./component/Training/Forms\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {getInitializeStateThunkCallback} from \"./Redux/app-reducer\";\r\n\r\nimport Preloader from \"./common/Preloader/Preloader\";\r\nimport {getAuthPageSelector, getInitializeSelector} from \"./utils/selectors/selectors\";\r\nimport withSuspense from \"./hoc/withSuspense\";\r\n\r\nconst ContainerUsers = React.lazy(() => import('./component/Users/ContainerUsers'));\r\nconst ContainerProfile = React.lazy(() => import('./component/Profile/ContainerProfile'));\r\nconst ContainerDialogs = React.lazy(() => import(\"./component/Dialogs/ContainerDialogs\"));\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        initialize: getInitializeSelector(state),\r\n        authPage: getAuthPageSelector(state)\r\n    }\r\n}\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getInitializeStateThunkCallback();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialize) return <Preloader/>\r\n        return (\r\n            <div className=\"App\">\r\n                <HeaderContainer authPage={this.props.authPage}/>\r\n                <div className=\"main container\">\r\n                    <Aside />\r\n                        <Route path='/profile/:userId?' render={() => withSuspense(ContainerProfile)}/>\r\n                        <Route path='/dialogs' render={() => withSuspense(ContainerDialogs)}/>\r\n                        <Route path='/feed' render={() => <Feed/>}/>\r\n                        <Route path='/friend' render={() => <Friend/>}/>\r\n                        <Route path='/users' render={() => withSuspense(ContainerUsers)}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                        <Route path='/training' render={() => <TrainSection/>}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getInitializeStateThunkCallback}),\r\n)(App)\r\n\r\n","\r\nlet initialState = {\r\n    links: [\r\n        {url: '/profile', icon: 'fa-home', text: 'My Profile'},\r\n        {url: '/feed', icon: 'fa-align-left', text: 'News'},\r\n        {url: '/dialogs', icon: 'fa-comments', text: 'Messages'},\r\n        //{url: '/friend', icon: 'fa-user', text: 'Friends'},\r\n        {url: '/users', icon: 'fa-user', text: 'Users'},\r\n        {url: '/training', icon: 'fa-gamepad', text: 'Training'},\r\n        {url: '#', icon: 'fa-users', text: 'Communities!!!'},\r\n        {url: '#', icon: 'fa-music', text: 'Music!!!'},\r\n        {url: '#', icon: 'fa-film', text: 'Videos!!!'}\r\n    ],\r\n    friends: [\r\n        {userId: 1, name: 'Pavel Durov', src: 'https://rossaprimavera.ru/static/files/2c7ca8526ecb.jpg'},\r\n        {userId: 2, name: 'Geralt of Rivia', src: 'http://gamebomb.ru/files/galleries/001/2/23/330556.jpg'},\r\n        {\r\n            userId: 3,\r\n            name: 'Jennifer Connelly',\r\n            src: 'https://avatars.mds.yandex.net/get-pdb/1935444/7ad1efd1-cc5f-48fc-96ad-c65bab20970c/s1200'\r\n        },\r\n        {\r\n            userId: 4,\r\n            name: 'Harry Potter',\r\n            src: 'https://avatars.mds.yandex.net/get-zen_doc/236854/pub_5a316bb4830905958b6dbad4_5a316bda77d0e6afcba2ac2d/scale_1200'\r\n        },\r\n        {\r\n            userId: 5,\r\n            name: 'Jack Sheppard',\r\n            src: 'http://static2.kinootziv.com/source/files/wallpapers/matt/matthewfox67978.jpg'\r\n        }\r\n    ]\r\n};\r\n\r\nconst asideReducer = (state = initialState, action) => {\r\n    return state;\r\n};\r\n\r\nexport default asideReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport messageReducer from \"./messages-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport asideReducer from \"./aside-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport authReducer from \"./auth-reducer\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n    dialogsPage: messageReducer,\r\n    profilePage: profileReducer,\r\n    sidebar: asideReducer,\r\n    usersPage: usersReducer,\r\n    authPage: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMiddleware)\r\n));\r\n\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport './index.css';\r\nimport ReactDOM from 'react-dom';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport App from './App';\r\nimport store from './Redux/redux-store';\r\nimport {BrowserRouter, HashRouter} from \"react-router-dom\";\r\nimport {Provider} from 'react-redux';\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <HashRouter >\r\n                <App />\r\n            </HashRouter>\r\n        </Provider>\r\n    </React.StrictMode>\r\n    ,document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n","//AppState;\r\nimport {createSelector} from \"reselect\";\r\nexport const getInitializeSelector = state => state.app.initialize\r\n//AuthState\r\nexport const getAuthPageSelector = state => state.authPage;\r\n//ProfilePage\r\nexport const getProfilePageSelector = state => state.profilePage;\r\n//UsersPage\r\nexport const getUsersPageSelector = state => state.usersPage;\r\n//AsidePage\r\nexport const getSidebarLinks = state => state.sidebar.links;\r\nexport const getSidebarFriends = state => state.sidebar.friends;\r\nexport const getFilterSidebarLinks = createSelector([getSidebarLinks], (links) => {\r\n    return links.filter(l => true);\r\n});\r\n//DialogsPage\r\nexport const getDialogsPage = state => state.dialogsPage;","import React from \"react\";\r\nimport s from \"./FormsControls.module.css\";\r\n\r\nexport const createElement = Component => ({input, meta, ...props}) => {\r\n    let hasError = meta.touched && meta.error;\r\n    return(\r\n        <div className={s.formControl + ` ` + (hasError ? s.error : ``) }>\r\n            <div>\r\n                <Component {...input} {...props}/>\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Textarea = createElement('textarea');\r\nexport const Input = createElement('input');\r\n\r\n\r\n\r\n//For Training\r\nconst createFormElement = TagName => ({input, meta, ...props}) => {\r\n    let hasErrorNow = meta.touched && meta.error;\r\n    return(\r\n        <div className={s.formControl + ` ` + (hasErrorNow ? s.error : ``) }>\r\n            <TagName {...input} {...props}/>\r\n            {hasErrorNow && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport const customInput = createFormElement('input');\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"remember\":\"LoginForm_remember__1j22K\",\"rememberMe\":\"LoginForm_rememberMe__PdBtO\",\"commonError\":\"LoginForm_commonError__JFZMI\",\"someError\":\"LoginForm_someError__340q4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__14y0i\",\"error\":\"FormsControls_error__1J3P_\"};","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    let mapStateToProps = (state) => {\r\n        return {\r\n            isAuth: state.authPage.isAuth\r\n        }\r\n    }\r\n\r\n    class RedirectComponent extends React.Component{\r\n        constructor(props) {\r\n            super();\r\n        }\r\n\r\n        render() {\r\n            if (this.props.isAuth) return <Component {...this.props}/>\r\n            else return <Redirect to={'/login'} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps, {})(RedirectComponent);\r\n}\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport defaultPreloader from '../../assets/image/preloader.svg';\r\n\r\nconst Preloader = (props) => {\r\n    return(\r\n        <div>\r\n            <img src={defaultPreloader} alt=\"Preloader\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"listWrap\":\"ListsFriend_listWrap__7ww6B\",\"listImageWrap\":\"ListsFriend_listImageWrap__1_wWt\",\"listHead\":\"ListsFriend_listHead__2Li6h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemLink\":\"AsideLinks_itemLink__1ZOVj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"asideSection\":\"Aside_asideSection__1OgB6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerSection\":\"Header_headerSection__1Zh5T\",\"links\":\"Header_links__1BoAd\"};","import React from 'react';\r\nimport style from './SmallAvatar.module.css';\r\n\r\nfunction SmallAvatar(props) {\r\n    return (\r\n        <div className={style.user__avatar}>\r\n            <img src={props.src} alt=\"avatar\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SmallAvatar;","import {profileApi} from \"../api/api\";\r\n\r\nconst ADD_USER_POST = 'samurai-network/profile-reducer/ADD_USER_POST';\r\nconst SET_DISPLAYED_USER = 'samurai-network/profile-reducer/SET_DISPLAYED_USER';\r\nconst IS_MY_PAGE = 'samurai-network/profile-reducer/IS_MY_PAGE';\r\nconst SET_USER_STATUS = 'samurai-network/profile-reducer/SET_USER_STATUS';\r\nconst DELETE_POST = 'samurai-network/profile-reducer/DELETE_POST';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {message: \"My first post! Hello, world!\", likeCount: 7},\r\n        {message: \"You don`t know me, but believe me\", likeCount: 25},\r\n        {\r\n            message: \"В частности, сплочённость команды профессионалов представляет собой интересный эксперимент проверки существующих финансовых и административных условий.\",\r\n            likeCount: 42\r\n        }\r\n    ],\r\n    currentUser: { //Текущий отображаемый пользователь\r\n        aboutMe: null,\r\n        contacts: {facebook: null, website: null, vk: null, twitter: null, instagram: null},\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: null,\r\n        fullName: '',\r\n        userId: 0,\r\n        photos: {\r\n            small: null,\r\n            large: null\r\n        }\r\n    },\r\n    myId: 6722,\r\n    isMyPage: true,\r\n    status: ''\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_USER_POST:\r\n            return {\r\n                ...state,\r\n                posts: [{message: action.textNewPost, likeCount: 0}, ...state.posts]\r\n            }\r\n        case SET_DISPLAYED_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: {...action.userDataFromApi}\r\n            }\r\n        case IS_MY_PAGE:\r\n            return {\r\n                ...state,\r\n                isMyPage: state.myId === action.userId\r\n            }\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter((post,index) => index != action.postId)\r\n            }\r\n        default:\r\n            return {...state};\r\n    }\r\n};\r\n\r\n\r\n//ActionCreator\r\nexport const addNewPostCreateAction = (textNewPost) => ({type: ADD_USER_POST, textNewPost});\r\nconst setDisplayedCurrentUser = (userDataFromApi) => ({type: SET_DISPLAYED_USER, userDataFromApi});\r\nconst isMyPageAC = (userId) => ({type: IS_MY_PAGE, userId});\r\nconst setUserStatus = (status) => ({type: SET_USER_STATUS, status});\r\nexport const deleteUserPost = (postId) => ({type: DELETE_POST, postId});\r\n\r\n//ThunkCallback\r\nexport const addNewPostThuhnkCallback = (textNewPost) => (dispatch) => {\r\n    dispatch(addNewPostCreateAction(textNewPost));\r\n}\r\nexport const getProfilePageThunkCallback = (userId = initialState.myId) => async (dispatch) => {\r\n    await dispatch(isMyPageAC(userId))\r\n    const response = await profileApi.getProfilePeople(userId)\r\n    dispatch(setDisplayedCurrentUser(response.data))\r\n\r\n}\r\nexport const getUserStatusThunkCallback = (userId) => async (dispatch) => {\r\n    const response = await profileApi.getUserStatus(userId);\r\n    dispatch(setUserStatus(response.data))\r\n};\r\n\r\n\r\nexport const updateUserStatusThunkCallback = statusText => async dispatch => {\r\n    const response = await profileApi.updateUserStatus(statusText)\r\n\r\n    if(response.data.resultCode === 0) {\r\n        dispatch(setUserStatus(statusText));\r\n    }\r\n};\r\n\r\nexport default profileReducer;\r\n","const UPDATE_MESSAGE_TEXTAREA   = 'samurai-network/messages-reducer/UPDATE-MESSAGE-TEXTAREA';\r\nconst ADD_NEW_MESSAGE           = 'samurai-network/messages-reducer/ADD-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    friends: [\r\n        {userId: 1, name: 'Pavel Durov', src: 'https://rossaprimavera.ru/static/files/2c7ca8526ecb.jpg'},\r\n        {userId: 2, name: 'Geralt of Rivia', src: 'http://gamebomb.ru/files/galleries/001/2/23/330556.jpg'},\r\n        {userId: 3, name: 'Jennifer Connelly', src: 'https://avatars.mds.yandex.net/get-pdb/1935444/7ad1efd1-cc5f-48fc-96ad-c65bab20970c/s1200'},\r\n        {userId: 4, name: 'Harry Potter', src: 'https://avatars.mds.yandex.net/get-zen_doc/236854/pub_5a316bb4830905958b6dbad4_5a316bda77d0e6afcba2ac2d/scale_1200'},\r\n        {userId: 5, name: 'Jack Sheppard', src: 'http://static2.kinootziv.com/source/files/wallpapers/matt/matthewfox67978.jpg'}\r\n    ],\r\n    chatTextarea: '',\r\n    failCount: 0\r\n};\r\n\r\nconst messageReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case UPDATE_MESSAGE_TEXTAREA:\r\n            return {\r\n                ...state,\r\n                chatTextarea: action.newValue\r\n            }\r\n        case ADD_NEW_MESSAGE:\r\n            return {\r\n                ...state,\r\n                chatTextarea: ''\r\n            }\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n};\r\n\r\nexport const updateMessageTextareaCreateAction = (text) => ({type: UPDATE_MESSAGE_TEXTAREA, newValue: text});\r\nexport const addNewMessageCreateAction = () => ({type: ADD_NEW_MESSAGE});\r\n\r\nexport default messageReducer;"],"sourceRoot":""}