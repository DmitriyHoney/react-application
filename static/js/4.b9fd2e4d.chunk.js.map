{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","common/Pagination/Pagination.module.css","common/OneUser/OneUser.module.css","assets/image/default-usaer.jpg","common/Pagination/Pagination.js","common/OneUser/OneUser.js","component/Users/Users.jsx","component/Users/ContainerUsers.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","Pagination","props","btnArray","pageCount","Math","ceil","totalCount","pageSize","portionsCount","portions","useState","pageNumber","setPageNumber","leftPortionsPageNumber","rightPortionsPageNumber","btnsList","filter","p","map","btn","key","className","currentPage","s","btn_act","onClick","changePage","OneUser","user","name","id","photos","status","followed","disabledBtn","usersInSubscribeProcess","some","e","userUrl","userWrap","userPhoto","to","avatar","src","small","defaultUser","alt","disabled","unFollowOnUser","followOnUser","userInfo","userName","userStatus","Users","UserList","items","style","usersList","preloader","Preloader","ContainerUsers","newPageNumber","changeCurrentPage","userId","this","getUsers","countUsers","usersPage","React","Component","compose","connect","state","getUsersPageSelector","withAuthRedirect"],"mappings":"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","file":"static/js/4.b9fd2e4d.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Pagination_btn__1SiER\",\"btn_act\":\"Pagination_btn_act__1r9kG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"OneUser_avatar__1ML6_\",\"userPhoto\":\"OneUser_userPhoto__2FiH9\",\"userWrap\":\"OneUser_userWrap__132xe\",\"userName\":\"OneUser_userName__1cX8-\",\"userStatus\":\"OneUser_userStatus__YfuYP\"};","module.exports = __webpack_public_path__ + \"static/media/default-usaer.cdb366b2.jpg\";","import React, {useState} from \"react\";\r\nimport s from './Pagination.module.css';\r\n\r\nconst Pagination = (props) => {\r\n    let btnArray = [];\r\n    let pageCount = Math.ceil(props.totalCount / props.pageSize); //Всего кнопок\r\n\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        btnArray.push(i);\r\n    }\r\n    let portionsCount = Math.ceil(pageCount / props.portions);// Колл-во порций\r\n    let [pageNumber, setPageNumber] = useState(1);\r\n    let leftPortionsPageNumber = (pageNumber - 1) * props.portions + 1;\r\n    let rightPortionsPageNumber = pageNumber * props.portions;\r\n    let btnsList = btnArray\r\n        .filter(p => p >= leftPortionsPageNumber && p <= rightPortionsPageNumber)\r\n        .map(btn => {\r\n            return (\r\n                <span\r\n                    key={btn}\r\n                    className={btn === props.currentPage ? `${s.btn} ${s.btn_act}` : `${s.btn}`}\r\n                    onClick={() => props.changePage(btn)}\r\n                >\r\n                {btn}\r\n            </span>\r\n            )\r\n        });\r\n\r\n\r\n    let handlePrevBtn = () => {\r\n        setPageNumber(pageNumber - 1);\r\n    }\r\n    let handleNextBtn = () => {\r\n        setPageNumber(pageNumber + 1);\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            {pageNumber > 1 && <button className={'main-btn prev'} onClick={handlePrevBtn}>Prev</button>}\r\n            {btnsList}\r\n            {!(pageNumber === portionsCount) && <button className={'main-btn next'} onClick={handleNextBtn}>Next</button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport s from './OneUser.module.css';\r\nimport defaultUser from \"../../assets/image/default-usaer.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst OneUser = (props) => {\r\n    let {name, id, photos, status, followed} = props.user;\r\n    let disabledBtn = props.usersInSubscribeProcess.some(e => e === id);\r\n    let userUrl = `/profile/${id}`;\r\n    return(\r\n        <div key={id} className={s.userWrap}>\r\n            <div className={s.userPhoto}>\r\n                <NavLink to={userUrl}>\r\n                    <img className={s.avatar} src={photos.small || defaultUser} alt=\"avatar\"/>\r\n                </NavLink>\r\n                {followed\r\n                    ? <button disabled={disabledBtn} className=\"main-btn\" onClick={() => props.unFollowOnUser(id)}>unfollow</button>\r\n                    : <button disabled={disabledBtn} className=\"main-btn\" onClick={() => props.followOnUser(id)}>follow</button>}\r\n            </div>\r\n            <div className={s.userInfo}>\r\n                <div className={s.userName}>\r\n                    {name}\r\n                </div>\r\n                <div className={s.userStatus}>\r\n                    {status || 'not status'}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OneUser;","import React from 'react';\r\nimport style from './Users.module.css';\r\nimport Pagination from \"../../common/Pagination/Pagination\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport OneUser from \"../../common/OneUser/OneUser\";\r\n\r\nconst Users = (props) => {\r\n    let UserList = props.items.map( (user) => {\r\n        return(\r\n            <OneUser\r\n                key={user.id}\r\n                user={user}\r\n                followOnUser={props.followOnUser}\r\n                unFollowOnUser={props.unFollowOnUser}\r\n                usersInSubscribeProcess={props.usersInSubscribeProcess}\r\n            />\r\n        )\r\n    });\r\n\r\n    return(\r\n        <div className={style.usersList}>\r\n            <Pagination\r\n                currentPage={props.currentPage} //Текущая страница для выделения\r\n                changePage={props.changePage} //Запрос на сервер\r\n                portions={5} //Сколько отображаем кнопок за раз\r\n                pageSize={props.pageSize}\r\n                totalCount={props.totalCount}\r\n            />\r\n            {props.preloader ? UserList : <Preloader/>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Users;","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {changeCurrentPage, followOnUser, getUsers, unFollowOnUser} from \"../../Redux/users-reducer\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {getUsersPageSelector} from \"../../utils/selectors/selectors\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        usersPage: getUsersPageSelector(state),\r\n        currentPage: state.usersPage.currentPage,\r\n        countUsers: state.usersPage.countUsers\r\n    }\r\n};\r\n\r\nclass ContainerUsers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.countUsers)\r\n    }\r\n\r\n    changePage = (newPageNumber) => {\r\n        this.props.changeCurrentPage(newPageNumber);\r\n    }\r\n\r\n    followOnUser = (userId) => {\r\n        this.props.followOnUser(userId);\r\n    }\r\n\r\n    unFollowOnUser = (userId) => {\r\n        this.props.unFollowOnUser(userId);\r\n    }\r\n\r\n\r\n    render() {\r\n        if (this.props.usersPage.items) {\r\n            return(\r\n                <Users\r\n                    {...this.props.usersPage}\r\n                    followOnUser={this.followOnUser}\r\n                    unFollowOnUser={this.unFollowOnUser}\r\n                    changePage={this.changePage}\r\n                />\r\n            )\r\n        }\r\n        else return <Preloader/>\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {getUsers, changeCurrentPage, followOnUser, unFollowOnUser}),\r\n    withAuthRedirect\r\n)(ContainerUsers)\r\n"],"sourceRoot":""}